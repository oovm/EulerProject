## P41: 全数字的素数

如果一个n位数恰好使用了1至n每个数字各一次, 我们就称其为全数字的.例如, 2143就是一个4位全数字数, 同时它恰好也是一个素数.

最大的全数字的素数是多少?

n就是个7位数, 因为当n为8或9时, 无论怎么排都能被3整除.

事实上1, 3, 6, 10, 15, 21, 28, 36, 45里就俩合法的位数,穷举就行.

```wl
Max[FromDigits/@Select[Permutations[Range[7]],PrimeQ@FromDigits@#&]]
```

## P42: 编码三角形数

三角形数序列的第n项由公式tn = 1/2n(n+1)给出; 因此前十个三角形数是:

1, 3, 6, 10, 15, 21, 28, 36, 45, 55, …
将一个单词的每个字母分别转化为其在字母表中的顺序并相加, 我们可以计算出一个单词的值.例如, 单词SKY的值就是 19 + 11 + 25 = 55 = t10.如果一个单词的值是一个三角形数, 我们就称这个单词为三角形单词.

在这个16K的文本文件words.txt (右击并选择"目标另存为……")中包含有将近两千个常用英文单词, 这其中有多少个三角形单词?

就是那道求姓名值的变体,直接判断判别式是否是整数就行.

$$\begin{aligned}
&t = \frac{1}{2}n(n + 1)\\
&n = - \frac{1}{2}\left( {1 \pm \sqrt {8t + 1} } \right)\\
&\sqrt {8t + 1} \in N
\end{aligned} $$

我喜欢这个出题方式,直接Import它的网页就行.

```wl
data=Import["https://projecteuler.net/project/resources/p042_words.txt","CSV"][[1]];
Count[Sqrt[Total/@(ToCharacterCode@data-64)*8+1],_Integer]
```

## P43: 子串的可整除性

1406357289是一个0至9全数字数, 因为它由0到9这十个数字排列而成; 但除此之外, 它还有一个有趣的性质:子串的可整除性.

记d1是它的第一个数字, d2是第二个数字, 依此类推, 我们注意到:

d2d3d4=406能被2整除
d3d4d5=063能被3整除
d4d5d6=635能被5整除
d5d6d7=357能被7整除
d6d7d8=572能被11整除
d7d8d9=728能被13整除
d8d9d10=289能被17整除
找出所有满足同样性质的0至9全数字数, 并求它们的和.

有点复杂,十亿级别穷举肯定是不行的了.

要找一种方法来把这7个整除集合连起来咯.比如除17的集合找到了289,然后除13的集合就要找X28,比如728,然后除11的里再找....

就是构造一个函数numLink,取一个数给他的头上加数并检测合法性.最后全部全过程试完还合法的就是最终的结果了.

```wl
numLink[u:{__List},d_]:=Level[numLink[#,d]&/@u,{2}];
numLink[u_,d_]:=Select[If[u=={},Permutations[Range[0,9],{3}],
u~Prepend~#&/@Range[0,9]~Complement~u],FromDigits[#~Take~3]~Divisible~d&];
Total[FromDigits/@Fold[numLink,{},{17,13,11,7,5,3,2,1}]]
```
