
**P121:碟子游戏奖金**

一开始, 包里装有一个红色碟子和一个蓝色碟子.在一场概率游戏中, 每一轮玩家从包中取出一个碟子, 记录下其颜色, 随后将碟子放回包中, 并在包中加入一个红色碟子, 再进行下一轮.

玩家需要付￡1来玩这个游戏, 如果他们在游戏结束时拿出的蓝色碟子数比红色碟子数更多, 则获得胜利.

如果游戏进行4轮, 那么玩家获胜的概率是11/120, 因此游戏所设定的最高奖金为￡10, 否则可能会造成亏损.注意奖金必须是整数, 而且包含了玩家付出用于玩游戏的￡1, 也就是说玩家实际上赢得的数额是￡9.

如果游戏进行15轮, 求游戏所设定的最高奖金.







**P122:高效指数计算**

计算n^15最朴素的方式需要14次乘法:

n × n × … × n = n^15

但使用一个"二进制"的算法, 你可以只用6次乘法:

n × n = n^2
n^2 × n^2 = n^4
n^4 × n^4 = n^8
n^8 × n^4 = n^12
n^12 × n^2 = n^14
n^14 × n = n^15

然而, 实际上仅用5次乘法也是可以的:

n × n = n^2
n^2 × n = n^3
n^3 × n^3 = n^6
n^6 × n^6 = n^12
n^12 × n^3 = n^15

记m(k)是计算n^k所需要的最少次数, 例如m(15) = 5.

对于1 ≤ k ≤ 200, 求∑m(k).









**P123:素数平方余数**

记p_n是第n个素数:2, 3, 5, 7, 11……; 记r是(p_n?1)^n + (p_n+1)^n被p_n^2除所得的余数.

例如, 当n = 3时, p_3 = 5, 而4^3 + 6^3 = 280 ≡ 5 mod 25.

使余数首次超过10^9的最小n值是7037.

求使余数首次超过10^10的最小n值.





P124:**基排序**

数n的基rad(n), 是指n的不同质因数之积.例如, 504 = 2^3 × 3^2 × 7, 所以rad(504) = 2 × 3 × 7 = 42.

如果我们计算1 ≤ n ≤ 10的rad(n), 并先按照rad(n)再按照n从小到大排序, 我们得到:

|       | **排序前**    |  |       | **排序后**    |       |
| ----- | ---------- |  | ----- | ---------- | ----- |
| **n** | **rad(n)** |  | **n** | **rad(n)** | **k** |
| 1     | 1          |  | 1     | 1          | 1     |
| 2     | 2          |  | 2     | 2          | 2     |
| 3     | 3          |  | 4     | 2          | 3     |
| 4     | 2          |  | 8     | 2          | 4     |
| 5     | 5          |  | 3     | 3          | 5     |
| 6     | 6          |  | 9     | 3          | 6     |
| 7     | 7          |  | 5     | 5          | 7     |
| 8     | 2          |  | 6     | 6          | 8     |
| 9     | 3          |  | 7     | 7          | 9     |
| 10    | 10         |  | 10    | 10         | 10    |

记E(k)是前n个数排序后的第k个数, 例如, E(4) = 8以及E(6) = 9.

对1 ≤ n ≤ 100000按照rad(n)排序后, 求E(10000).



P125:**回文和**

回文数595很有趣, 因为它可以写成连续平方数的和:6^2 + 7^2 + 8^2 + 9^2 + 10^2 + 11^2 + 12^2.

恰好有十一个小于一千的回文数可以写成连续平方数的和, 这些回文数的和是4164.注意1 = 0^2+ 1^2并没有算在内, 因为本题只考虑正整数的平方.

在小于10^8的数中, 找出所有可以写成连续平方数的和的回文数, 并求它们的和.







P126:**立方体层**

要完全包住一个3x2x1的长方体的表面, 最少需要的立方体数目为22.

<center>
  <a class="fancybox" href="../wp-content/uploads/2018/06/053cc8c312cbed4329a142e6865970f2.gif"><img src="../wp-content/uploads/2018/06/053cc8c312cbed4329a142e6865970f2.gif" alt="" width="499" height="247" /></a>
</center>如果我们要再包一层, 需要46个立方体才能挡住所有表面, 而第三层需要78个立方体, 第4层则需要180个立方体.

同样地, 要完全包住一个5x1x1的长方体的表面也需要22个立方体.而要包住5x3x1或是7x2x1或是11x1x1的长方体表面, 第一层就需要46个立方体.

记C(n)是在任意一层中需要n个立方体的长方体数目.所以C(22) = 2, C(46) = 4, C(78) = 5, C(118) = 8.

可以验证154是第一个使得C(n) = 10的n.

找出使得C(n) = 1000的最小的n.



P127:**abc匹配**

数n的基rad(n)被定义为n的不同质因数之积.例如504 = 2^3 × 3^2 × 7, 所以rad(504) = 2 × 3 × 7 = 42.

我们定义正整数三元组(a, b, c)为abc匹配, 当其满足如下条件:

  1. GCD(a, b) = GCD(a, c) = GCD(b, c) = 1
  2. a < b
  3. a + b = c
  4. rad(abc) < c

例如, (5, 27, 32)是一个abc匹配, 因为:

  1. GCD(5, 27) = GCD(5, 32) = GCD(27, 32) = 1
  2. 5 < 27
  3. 5 + 27 = 32
  4. rad(4320) = 30 < 32

实际上, abc匹配是非常稀少的, 对于c < 1000, 只有31组abc匹配, 在这些匹配中∑c = 12523.

对于c < 120000, 求∑c.











**P128:六边形地砖的差**

标有数1的六边形地砖被一圈六个六边形地砖包围, 这些地砖从12点钟方向(正上方)开始沿逆时针顺序依次标记为2至7.

在这个图形的外面, 继续加上新的六边形地砖, 接下来的几圈分别按照同样的规则标上8至19, 20至37, 38至61, 依此类推.下图显示了前三圈所构成的图形.

<center>
  <a class="fancybox" href="../wp-content/uploads/2018/06/ed3a05d48789410cc5bf46f031afe889.gif"><img src="../wp-content/uploads/2018/06/ed3a05d48789410cc5bf46f031afe889.gif" alt="" width="400" height="431" /></a>
</center>考虑标有n的地砖与其周围六块地砖的差, 我们定义PD(n)是这些差中素数的数目.

例如, 按顺时针顺序, 标有8的地砖与周围地砖的差是12, 29, 11, 6, 1和13.所以PD(8) = 3.

同样的, 标有17的地砖与周围地砖的差是1, 17, 16, 1, 11和10, 所以PD(17) = 2.

可以验证, PD(n)的最大值就是3.

如果所有PD(n) = 3的地砖构成从小到大排列的序列, 那么第10块将是标有271的地砖.

找出这个序列中的第2000块地砖所标的数.





**P129:循环单位数整除性**

只包含数字1的数被称为循环单位数, 我们定义R(k)是长为k的循环单位数, 例如, R(6) = 111111.

如果n是一个整数, 且GCD(n, 10) = 1, 可以验证总存在k使得R(k)能够被n整除, 并且记A(n)是这些k中最小的一个.例如, A(7) = 6, 而A(41) = 5.

使得A(n)第一次超过十的n是17.

求使得A(n)第一次超过一千万的n.





**P130:满足素数循环单位数性质的合数**

只包含数字1的数被称为循环单位数, 我们定义R(k)是长为k的循环单位数, 例如, R(6) = 111111.

如果n是一个整数, 且GCD(n, 10) = 1, 可以验证总存在k使得R(k)能够被n整除, 并且记A(n)是这些k中最小的一个.例如, A(7) = 6, 而A(41) = 5.

已知对于素数p > 5, p − 1能够被A(p)整除.例如, 当p = 41时, A(41) = 5, 而40能够被5整除.

然而, 有很少的一部分合数也满足这条性质, 前5个这样的数分别是91, 259, 451, 481以及703.

找出前25个合数n满足
GCD(n, 10) = 1且n − 1能够被A(n)整除, 并求它们的和.







